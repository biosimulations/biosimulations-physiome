<?xml version="1.0"?>
<model xmlns="http://www.cellml.org/cellml/1.1#" xmlns:cmeta="http://www.cellml.org/metadata/1.0#" cmeta:id="butera_single_cell_1999" name="butera_single_cell_1999">

    <documentation xmlns="http://cellml.org/tmp-documentation">
        <article>
            <articleinfo>
                <title>Models of respiratory rhythm generation in the Pre-Botzinger complex. II. Populations of coupled pacemaker neurons</title>
                <author>
                    <firstname>Catherine</firstname>
                    <surname>Lloyd</surname>
                    <affiliation>
                        <shortaffil>Auckland Bioengineering Institute, The University of Auckland</shortaffil>
                    </affiliation>
                </author>
            </articleinfo>
            <section id="sec_status">
                <title>Model Status</title>
                <para>
        This CellML model represents a single neuron in a network of cells. This cell model is based on "model 1" published in a preceding paper (Butera et al. 1999) which is also described in CellML as a stand alone CellML 1.0 model. To model inter-cellular coupling a synaptic input current I<subscript>syn_e</subscript> has been added to the model.
                </para>
				<para>
				The MATLAB script (<ulink url="buteraModel.m">buteraModel.m</ulink>) should be used to generate a CellML file for multi-cell models.  The generated model will import butera_single_cell_1999.cellml repeatedly, once for each of the multiple cells, and it will generate values from a random normal distribution for the required connectivity coefficients between the cells.  The main model for the exposure (butera_ten_cell_1999.cellml)  was generated from the MATLAB script.
				</para>
				<para>
				Note: the OpenCell session file for this model may not work when lauched from the model repository. In order to run the session file, you may either clone the workspace or save the session file, and then run the session from your local copy.
				</para>
            </section>
            <sect1 id="sec_structure">
                <title>Model Structure</title>

                <informalfigure float="0" id="fig_reaction_diagram">
                    <mediaobject>
                        <imageobject>
                            <objectinfo>
                                <title>model diagram</title>
                            </objectinfo>
                            <imagedata fileref="butera_1999.png"/>
                        </imageobject>
                    </mediaobject>
                    <caption>The single cell neuron model is based on a single-compartment Hodgkin-Huxley type formalism.  It is composed of five ionic currents across the plasma membrane: a fast sodium current, I<subscript>Na</subscript>; a delayed rectifier potassium current, I<subscript>K</subscript>; a persistent sodium current,  I<subscript>NaP</subscript>; a passive leakage current, I<subscript>L</subscript>; and a tonic current, I<subscript>tonic_e</subscript> In addition for the multicellular model a synaptic current (I<subscript>syn_e</subscript>) has been added to connect the cells in the network.</caption>
                </informalfigure>

                <para>
The original paper reference is cited below:
                </para>

                <para>
Models of respiratory rhythm generation in the Pre-Botzinger complex. II. Populations Of coupled pacemaker neurons, Butera RJ Jr, Rinzel J, Smith JC, 1999, <emphasis>Journal of Neurophysiology</emphasis>, 82, 398-415. <ulink url="http://www.ncbi.nlm.nih.gov/pubmed/10400967">PubMed ID: 10400967</ulink>
                </para>

            </sect1>
        </article>
    </documentation>

    <cmeta:comment xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" rdf:parseType="Resource">
        <rdf:value>
          This CellML model describes the single cell (neuron) of the Butera et al. 1999 model.  This model is imported by the multicellular model 10 times.
        </rdf:value>
        <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
            <vCard:FN xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Catherine Lloyd</vCard:FN>
        </dc:creator>
    </cmeta:comment>


    <units name="millisecond">
        <unit prefix="milli" units="second"/>
    </units>

    <units name="millivolt">
        <unit prefix="milli" units="volt"/>
    </units>

    <units name="picoA">
        <unit prefix="nano" units="ampere"/>
    </units>

    <units name="nanoS">
        <unit prefix="nano" units="siemens"/>
    </units>

    <units name="picoF">
        <unit prefix="pico" units="farad"/>
    </units>


    <cmeta:comment xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" rdf:parseType="Resource">
        <rdf:value>
          In order to facilitate the import of this single cell model by the multicellular model the current model is encapsulated in a top component called "single_neuron_model".
        </rdf:value>
        <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
            <vCard:FN xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">Catherine Lloyd</vCard:FN>
        </dc:creator>
    </cmeta:comment>

    <component cmeta:id="single_neuron_model" name="single_neuron_model">
        <rdf:RDF xmlns:rdf="http://www.w3.org/1999/0P/PP-rdf-syntax-ns#">
            <rdf:Description rdf:about="#single_neuron_model">
                <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">single_neuron_model</dc:title>
                <dcterms:alternative xmlns:dcterms="http://purl.org/dc/terms/">top component which encapsulates the single neuron cell model</dcterms:alternative>  
            </rdf:Description>
        </rdf:RDF>
        <variable name="s" private_interface="in" public_interface="out" units="dimensionless"/>

        <variable name="sum_g_syn_e_s" private_interface="out" public_interface="in" units="nanoS"/>
        <variable name="V" private_interface="in" public_interface="out" units="millivolt"/>
    <variable name="time" private_interface="in" public_interface="out" units="millisecond"/></component>

    <connection>
        <map_components component_1="single_neuron_model" component_2="synaptic_input"/>
        <map_variables variable_1="sum_g_syn_e_s" variable_2="sum_g_syn_e_s"/>
        <map_variables variable_1="s" variable_2="s"/>
    </connection>


    <component name="environment">
        <variable cmeta:id="environment_time" name="time" public_interface="out" units="millisecond"/>
    </component>

    <component name="membrane">
        <variable cmeta:id="membrane_V" initial_value="-50.0" name="V" public_interface="out" units="millivolt"/>

        <variable initial_value="21.0" name="C" units="picoF"/>
        <variable initial_value="0.0" name="i_app" units="picoA"/>

        <variable name="time" public_interface="in" units="millisecond"/>
        <variable name="i_NaP" public_interface="in" units="picoA"/>
        <variable name="i_Na" public_interface="in" units="picoA"/>
        <variable name="i_K" public_interface="in" units="picoA"/>
        <variable name="i_L" public_interface="in" units="picoA"/>
        <variable name="i_tonic_e" public_interface="in" units="picoA"/>
        <variable name="i_syn_e" public_interface="in" units="picoA"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="membrane_voltage_diff_eq">
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci> time </ci>
                    </bvar>
                    <ci> V </ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <plus/>
                        <apply>
                            <minus/>
                            <apply>
                                <plus/>
                                <ci> i_NaP </ci>
                                <ci> i_Na </ci>
                                <ci> i_K </ci>
                                <ci> i_L </ci>
                                <ci> i_tonic_e </ci>
                                <ci> i_syn_e </ci>
                            </apply>
                        </apply>
                        <ci> i_app </ci>
                    </apply>
                    <ci> C </ci>
                </apply>
            </apply>
        </math>
    </component>

    <component name="fast_sodium_current">
        <variable name="i_Na" public_interface="out" units="picoA"/>
        <variable initial_value="50.0" name="E_Na" public_interface="out" units="millivolt"/>

        <variable initial_value="28.0" name="g_Na" units="nanoS"/>   

        <variable name="time" private_interface="out" public_interface="in" units="millisecond"/>
        <variable name="V" private_interface="out" public_interface="in" units="millivolt"/>

        <variable name="m_infinity" private_interface="in" units="dimensionless"/>
        <variable name="n" private_interface="in" units="dimensionless"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_Na_calculation">
                <eq/>
                <ci> i_Na </ci>
                <apply>
                    <times/>
                    <ci> g_Na </ci>
                    <apply>
                        <power/>
                        <ci> m_infinity </ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 3.0 </cn>
                    </apply>
                    <apply>
                        <minus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <ci> n </ci>
                    </apply>
                    <apply>
                        <minus/>
                        <ci> V </ci>
                        <ci> E_Na </ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="fast_sodium_current_m_gate">
        <variable name="m_infinity" public_interface="out" units="dimensionless"/>

        <variable initial_value="-34.0" name="theta_m" units="millivolt"/>
        <variable initial_value="-5.0" name="sigma_m" units="millivolt"/>

        <variable name="V" public_interface="in" units="millivolt"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="fast_sodium_current_m_gate_m_infinity_calculation">
                <eq/>
                <ci> m_infinity </ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci> V </ci>
                                    <ci> theta_m </ci>
                                </apply>
                                <ci> sigma_m </ci>
                            </apply>
                        </apply>    
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="fast_sodium_current_n_gate">
        <variable initial_value="0.01" name="n" public_interface="out" units="dimensionless"/>

        <variable name="n_infinity" units="dimensionless"/>
        <variable name="tau_n" units="millisecond"/>
        <variable initial_value="10.0" name="tau_n_max" units="millisecond"/>
        <variable initial_value="-29.0" name="theta_n" units="millivolt"/>
        <variable initial_value="-4.0" name="sigma_n" units="millivolt"/>

        <variable name="V" public_interface="in" units="millivolt"/>
        <variable name="time" public_interface="in" units="millisecond"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="fast_sodium_current_n_gate_n_diff_eq">
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci> time </ci>
                    </bvar>
                    <ci> n </ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci> n_infinity </ci>
                        <ci> n </ci>
                    </apply>
                    <ci> tau_n </ci>
                </apply>
            </apply>

            <apply id="fast_sodium_current_n_gate_n_infinity_calculation">
                <eq/>
                <ci> n_infinity </ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci> V </ci>
                                    <ci> theta_n </ci>
                                </apply>
                                <ci> sigma_n </ci>
                            </apply>
                        </apply>    
                    </apply>
                </apply>
            </apply>

            <apply id="fast_sodium_current_n_gate_tau_n_calculation">
                <eq/>
                <ci> tau_n </ci>
                <apply>
                    <divide/>
                    <ci> tau_n_max </ci>
                    <apply>
                        <cosh/>
                        <apply>
                            <divide/>
                            <apply>
                                <minus/>
                                <ci> V </ci>
                                <ci> theta_n </ci>
                            </apply>
                            <apply>
                                <times/>
                                <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 2.0 </cn>
                                <ci> sigma_n </ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="potassium_current">
        <variable name="i_K" public_interface="out" units="picoA"/>

        <variable initial_value="11.2" name="g_K" units="nanoS"/>   
        <variable initial_value="-85.0" name="E_K" units="millivolt"/>

        <variable name="time" private_interface="out" public_interface="in" units="millisecond"/>
        <variable name="V" private_interface="out" public_interface="in" units="millivolt"/>

        <variable name="n" private_interface="in" units="dimensionless"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_K_calculation">
                <eq/>
                <ci> i_K </ci>
                <apply>
                    <times/>
                    <ci> g_K </ci>
                    <apply>
                        <power/>
                        <ci> n </ci>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 4.0 </cn>
                    </apply>
                    <apply>
                        <minus/>
                        <ci> V </ci>
                        <ci> E_K </ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="potassium_current_n_gate">
        <variable initial_value="0.01" name="n" public_interface="out" units="dimensionless"/>

        <variable name="n_infinity" units="dimensionless"/>
        <variable name="tau_n" units="millisecond"/>
        <variable initial_value="10.0" name="tau_n_max" units="millisecond"/>
        <variable initial_value="-29.0" name="theta_n" units="millivolt"/>
        <variable initial_value="-4.0" name="sigma_n" units="millivolt"/>

        <variable name="V" public_interface="in" units="millivolt"/>
        <variable name="time" public_interface="in" units="millisecond"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="potassium_current_n_gate_n_diff_eq">
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci> time </ci>
                    </bvar>
                    <ci> n </ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci> n_infinity </ci>
                        <ci> n </ci>
                    </apply>
                    <ci> tau_n </ci>
                </apply>
            </apply>

            <apply id="potassium_current_n_gate_n_infinity_calculation">
                <eq/>
                <ci> n_infinity </ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci> V </ci>
                                    <ci> theta_n </ci>
                                </apply>
                                <ci> sigma_n </ci>
                            </apply>
                        </apply>    
                    </apply>
                </apply>
            </apply>

            <apply id="potassium_current_n_gate_tau_n_calculation">
                <eq/>
                <ci> tau_n </ci>
                <apply>
                    <divide/>
                    <ci> tau_n_max </ci>
                    <apply>
                        <cosh/>
                        <apply>
                            <divide/>
                            <apply>
                                <minus/>
                                <ci> V </ci>
                                <ci> theta_n </ci>
                            </apply>
                            <apply>
                                <times/>
                                <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 2.0 </cn>
                                <ci> sigma_n </ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="persistent_sodium_current">
        <variable name="i_NaP" public_interface="out" units="picoA"/>

        <variable initial_value="2.8" name="g_NaP" units="nanoS"/>   

        <variable name="time" private_interface="out" public_interface="in" units="millisecond"/>
        <variable name="V" private_interface="out" public_interface="in" units="millivolt"/>
        <variable name="E_Na" public_interface="in" units="millivolt"/>         

        <variable name="m_infinity" private_interface="in" units="dimensionless"/>
        <variable name="h" private_interface="in" units="dimensionless"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_NaP_calculation">
                <eq/>
                <ci> i_NaP </ci>
                <apply>
                    <times/>
                    <ci> g_NaP </ci>
                    <ci> m_infinity </ci>
                    <ci> h </ci>
                    <apply>
                        <minus/>
                        <ci> V </ci>
                        <ci> E_Na </ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="persistent_sodium_current_m_gate">
        <variable name="m_infinity" public_interface="out" units="dimensionless"/>

        <variable initial_value="-40.0" name="theta_m" units="millivolt"/>
        <variable initial_value="-6.0" name="sigma_m" units="millivolt"/>

        <variable name="V" public_interface="in" units="millivolt"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="persistent_sodium_current_m_gate_m_infinity_calculation">
                <eq/>
                <ci> m_infinity </ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci> V </ci>
                                    <ci> theta_m </ci>
                                </apply>
                                <ci> sigma_m </ci>
                            </apply>
                        </apply>    
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="persistent_sodium_current_h_gate">
        <variable initial_value="0.46" name="h" public_interface="out" units="dimensionless"/>

        <variable name="h_infinity" units="dimensionless"/>
        <variable name="tau_h" units="millisecond"/>
        <variable initial_value="10000.0" name="tau_h_max" units="millisecond"/>
        <variable initial_value="-48.0" name="theta_h" units="millivolt"/>
        <variable initial_value="6.0" name="sigma_h" units="millivolt"/>

        <variable name="V" public_interface="in" units="millivolt"/>
        <variable name="time" public_interface="in" units="millisecond"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="h_diff_eq">
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci> time </ci>
                    </bvar>
                    <ci> h </ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <ci> h_infinity </ci>
                        <ci> h </ci>
                    </apply>
                    <ci> tau_h </ci>
                </apply>
            </apply>

            <apply id="h_infinity_calculation">
                <eq/>
                <ci> h_infinity </ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 1.0 </cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci> V </ci>
                                    <ci> theta_h </ci>
                                </apply>
                                <ci> sigma_h </ci>
                            </apply>
                        </apply>    
                    </apply>
                </apply>
            </apply>

            <apply id="tau_h_calculation">
                <eq/>
                <ci> tau_h </ci>
                <apply>
                    <divide/>
                    <ci> tau_h_max </ci>
                    <apply>
                        <cosh/>
                        <apply>
                            <divide/>
                            <apply>
                                <minus/>
                                <ci> V </ci>
                                <ci> theta_h </ci>
                            </apply>
                            <apply>
                                <times/>
                                <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless"> 2.0 </cn>
                                <ci> sigma_h </ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="leakage_current">
        <variable name="i_L" public_interface="out" units="picoA"/>

        <variable initial_value="2.8" name="g_L" units="nanoS"/>
        <variable initial_value="-57.5" name="E_L" units="millivolt"/> 

        <variable name="V" public_interface="in" units="millivolt"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_L_calculation">
                <eq/>
                <ci> i_L </ci>
                <apply>
                    <times/>
                    <ci> g_L </ci>
                    <apply>
                        <minus/>
                        <ci> V </ci>
                        <ci> E_L </ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="tonic_current">
        <variable name="i_tonic_e" public_interface="out" units="picoA"/>
        <variable initial_value="0.0" name="E_syn_e" public_interface="out" units="millivolt"/> 

        <variable initial_value="0.0" name="g_tonic_e" units="nanoS"/>

        <variable name="V" public_interface="in" units="millivolt"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_tonic_e_calculation">
                <eq/>
                <ci> i_tonic_e </ci>
                <apply>
                    <times/>
                    <ci> g_tonic_e </ci>
                    <apply>
                        <minus/>
                        <ci> V </ci>
                        <ci> E_syn_e </ci>
                    </apply>
                </apply>
            </apply>
        </math>
    </component>

    <component name="synaptic_input">
        <variable name="i_syn_e" public_interface="out" units="picoA"/>
        <variable initial_value="1" name="s" private_interface="out" public_interface="out" units="dimensionless"/>

        <variable name="s_infinity" units="dimensionless"/>
        <variable initial_value="1.0" name="kr" units="dimensionless"/>
        <variable initial_value="5.0" name="tau_s" units="millisecond"/>
        <variable initial_value="-5.0" name="sigma_s" units="millivolt"/>
        <variable initial_value="-10.0" name="theta_s" units="millivolt"/>

        <variable name="E_syn_e" public_interface="in" units="millivolt"/> 
        <variable name="sum_g_syn_e_s" public_interface="in" units="nanoS"/>
        <variable name="V" public_interface="in" units="millivolt"/>

        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="i_syn_e_calculation">
                <eq/>
                <ci>i_syn_e</ci>
                <apply>
                    <times/>
                    <ci>sum_g_syn_e_s</ci>
                    <apply>
                        <minus/>
                        <ci>V</ci>
                        <ci>E_syn_e</ci>
                    </apply>
                </apply>
            </apply>
            <apply id="s_infinity_calculation">
                <eq/>
                <ci>s_infinity</ci>
                <apply>
                    <divide/>
                    <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless">1</cn>
                    <apply>
                        <plus/>
                        <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless">1</cn>
                        <apply>
                            <exp/>
                            <apply>
                                <divide/>
                                <apply>
                                    <minus/>
                                    <ci>V</ci>
                                    <ci>theta_s</ci>
                                </apply>
                                <ci>sigma_s</ci>
                            </apply>
                        </apply>
                    </apply>
                </apply>
            </apply>
            <apply id="s_calculation">
                <eq/>
                <apply>
                    <diff/>
                    <bvar>
                        <ci>time</ci>
                    </bvar>
                    <ci>s</ci>
                </apply>
                <apply>
                    <divide/>
                    <apply>
                        <minus/>
                        <apply>
                            <times/>
                            <apply>
                                <minus/>
                                <cn xmlns:cellml="http://www.cellml.org/cellml/1.1#" cellml:units="dimensionless">1</cn>
                                <ci>s</ci>
                            </apply>
                            <ci>s_infinity</ci>
                        </apply>
                        <apply>
                            <minus/>
                            <apply>
                                <times/>
                                <ci>kr</ci>
                                <ci>s</ci>
                            </apply>
                        </apply>
                    </apply>
                    <ci>tau_s</ci>
                </apply>
            </apply>
            <apply>
                <eq/>
                <ci>V_public</ci>
                <ci>V</ci>
            </apply>
        </math>
        <variable name="time" public_interface="in" units="millisecond"/>
        <variable name="V_public" public_interface="out" units="millivolt"/>
    </component>
    <component cmeta:id="synaptic_coupling" name="synaptic_coupling">
        <variable name="sum_g_syn_e_s" public_interface="out" units="nanoS"/>
        <variable initial_value="0.10" name="g_syn_e_1_2" units="nanoS"/>
        <variable initial_value="0.10" name="g_syn_e_1_3" units="nanoS"/>
        <variable initial_value="0.10" name="g_syn_e_1_4" units="nanoS"/>
        <variable initial_value="0.10" name="g_syn_e_1_5" units="nanoS"/>
        <variable name="s1" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply>
                <eq/>
                <ci>sum_g_syn_e_s</ci>
                <apply>
                    <plus/>
                    <apply>
                        <times/>
                        <ci>g_syn_e_1_2</ci>
                        <ci>s1</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>g_syn_e_1_3</ci>
                        <ci>s1</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>g_syn_e_1_4</ci>
                        <ci>s1</ci>
                    </apply>
                    <apply>
                        <times/>
                        <ci>g_syn_e_1_5</ci>
                        <ci>s1</ci>
                    </apply>
                </apply>
            </apply>
        </math>

    </component>

    <group>
        <relationship_ref relationship="encapsulation"/>
        <component_ref component="single_neuron_model">
            <component_ref component="environment"/>
            <component_ref component="membrane"/>
            <component_ref component="fast_sodium_current">
                <component_ref component="fast_sodium_current_m_gate"/>
                <component_ref component="fast_sodium_current_n_gate"/>
            </component_ref>
            <component_ref component="potassium_current">
                <component_ref component="potassium_current_n_gate"/>
            </component_ref>
            <component_ref component="persistent_sodium_current">
                <component_ref component="persistent_sodium_current_m_gate"/>
                <component_ref component="persistent_sodium_current_h_gate"/>
            </component_ref>
            <component_ref component="leakage_current"/>
            <component_ref component="tonic_current"/>
            <component_ref component="synaptic_input"/>
        </component_ref> 
    </group>

    <connection>
        <map_components component_1="membrane" component_2="environment"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="fast_sodium_current" component_2="environment"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="potassium_current" component_2="environment"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="persistent_sodium_current" component_2="environment"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="fast_sodium_current" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_Na" variable_2="i_Na"/>
    </connection>

    <connection>
        <map_components component_1="potassium_current" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_K" variable_2="i_K"/>
    </connection>

    <connection>
        <map_components component_1="persistent_sodium_current" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_NaP" variable_2="i_NaP"/>
    </connection>

    <connection>
        <map_components component_1="leakage_current" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_L" variable_2="i_L"/>
    </connection>

    <connection>
        <map_components component_1="tonic_current" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_tonic_e" variable_2="i_tonic_e"/>
    </connection>

    <connection>
        <map_components component_1="synaptic_input" component_2="membrane"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="i_syn_e" variable_2="i_syn_e"/>
    </connection>

    <connection>
        <map_components component_1="synaptic_input" component_2="tonic_current"/>
        <map_variables variable_1="E_syn_e" variable_2="E_syn_e"/>
    </connection>

    <connection>
        <map_components component_1="fast_sodium_current" component_2="persistent_sodium_current"/>
        <map_variables variable_1="E_Na" variable_2="E_Na"/>
    </connection>

    <connection>
        <map_components component_1="fast_sodium_current" component_2="fast_sodium_current_m_gate"/>
        <map_variables variable_1="m_infinity" variable_2="m_infinity"/>
        <map_variables variable_1="V" variable_2="V"/>
    </connection>

    <connection>
        <map_components component_1="fast_sodium_current" component_2="fast_sodium_current_n_gate"/>
        <map_variables variable_1="n" variable_2="n"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="potassium_current" component_2="potassium_current_n_gate"/>
        <map_variables variable_1="n" variable_2="n"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="persistent_sodium_current" component_2="persistent_sodium_current_m_gate"/>
        <map_variables variable_1="m_infinity" variable_2="m_infinity"/>
        <map_variables variable_1="V" variable_2="V"/>
    </connection>

    <connection>
        <map_components component_1="persistent_sodium_current" component_2="persistent_sodium_current_h_gate"/>
        <map_variables variable_1="h" variable_2="h"/>
        <map_variables variable_1="V" variable_2="V"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="single_neuron_model" component_2="synaptic_coupling"/>
        <map_variables variable_1="s" variable_2="s1"/>
        <map_variables variable_1="sum_g_syn_e_s" variable_2="sum_g_syn_e_s"/>
    </connection>  
    
    <connection>
        <map_components component_1="environment" component_2="synaptic_input"/>
        <map_variables variable_1="time" variable_2="time"/>
    </connection>

    <connection>
        <map_components component_1="single_neuron_model" component_2="synaptic_input"/>
        <map_variables variable_1="V" variable_2="V_public"/>
    </connection>
   

    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">

        <rdf:Description rdf:about="">
            <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Models of Respiratory Rhythm Generation in the Pre-Botzinger Complex. II. Populations of Coupled Pacemaker Neurons: Single Cell Model</dc:title>
            <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
                <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                    <vCard:Family>Lloyd</vCard:Family>
                    <vCard:Given>Catherine</vCard:Given>
                    <vCard:Other>May</vCard:Other>
                </vCard:N>
                <vCard:EMAIL xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                    <rdf:value>c.lloyd@auckland.ac.nz</rdf:value>
                    <rdf:type rdf:resource="http://imc.org/vCard/3.0#internet"/>
                </vCard:EMAIL>
                <vCard:ORG xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                    <vCard:Orgname>The University of Auckland</vCard:Orgname>
                    <vCard:Orgunit>Auckland Bioengineering Institute</vCard:Orgunit>
                </vCard:ORG>
            </dc:creator>
        </rdf:Description>

        <rdf:Description rdf:about="#butera_single_cell_1999">
            <bqs:reference xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:parseType="Resource">
                <dc:subject xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:parseType="Resource">
                    <bqs:subject_type>keyword</bqs:subject_type>
                    <rdf:value>
                        <rdf:Bag>
                            <rdf:li>pacemaker</rdf:li>
                            <rdf:li>network</rdf:li>
                            <rdf:li>neuron</rdf:li>
                            <rdf:li>neurobiology</rdf:li>
                        </rdf:Bag>
                    </rdf:value>
                </dc:subject>
            </bqs:reference>

            <bqs:reference xmlns:bqs="http://www.cellml.org/bqs/1.0#" rdf:parseType="Resource">
                <bqs:Pubmed_id>10400967</bqs:Pubmed_id>
                <bqs:JournalArticle rdf:parseType="Resource">
                    <dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">
                        <rdf:Seq>
                            <rdf:li rdf:parseType="Resource">
                                <bqs:Person rdf:parseType="Resource">
                                    <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                                        <vCard:Family>Butera</vCard:Family>
                                        <vCard:Given>Robert</vCard:Given>
                                        <vCard:Other>J</vCard:Other>
                                    </vCard:N>
                                </bqs:Person>
                            </rdf:li>
                            <rdf:li rdf:parseType="Resource">
                                <bqs:Person rdf:parseType="Resource">
                                    <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                                        <vCard:Family>Rinzel</vCard:Family>
                                        <vCard:Given>John</vCard:Given>
                                    </vCard:N>
                                </bqs:Person>
                            </rdf:li>
                            <rdf:li rdf:parseType="Resource">
                                <bqs:Person rdf:parseType="Resource">
                                    <vCard:N xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" rdf:parseType="Resource">
                                        <vCard:Given>Jeffrey</vCard:Given>
                                        <vCard:Family>Smith</vCard:Family>
                                        <vCard:Other>C</vCard:Other>
                                    </vCard:N>
                                </bqs:Person>
                            </rdf:li>
                        </rdf:Seq>
                    </dc:creator>
                    <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">
            Models of Respiratory Rhythm Generation in the Pre-Botzinger Complex. II. Populations of Coupled Pacemaker Neurons
                    </dc:title>
                    <dcterms:issued xmlns:dcterms="http://purl.org/dc/terms/" rdf:parseType="Resource">
                        <dcterms:W3CDTF>1999-07</dcterms:W3CDTF>
                    </dcterms:issued>
                    <bqs:Journal rdf:parseType="Resource">
                        <dc:title xmlns:dc="http://purl.org/dc/elements/1.1/">Journal of Neurophysiology</dc:title>
                    </bqs:Journal>
                    <bqs:volume>82</bqs:volume>
                    <bqs:first_page>398</bqs:first_page>
                    <bqs:last_page>415</bqs:last_page>
                </bqs:JournalArticle>
            </bqs:reference>
        </rdf:Description>
    </rdf:RDF>
<connection><map_components component_1="single_neuron_model" component_2="environment"/><map_variables variable_1="time" variable_2="time"/></connection></model>