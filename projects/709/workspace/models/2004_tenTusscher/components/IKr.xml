<?xml version="1.0" encoding="iso-8859-1"?>
<model
    name="ten_tusscher_model_2004_IKr"
    cmeta:id="ten_tusscher_model_2004_IKr"
    xmlns="http://www.cellml.org/cellml/1.1#"
    xmlns:cellml="http://www.cellml.org/cellml/1.1#"
    xmlns:cmeta="http://www.cellml.org/metadata/1.0#"
    xmlns:xlink="http://www.w3.org/1999/xlink">
  <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:cmeta="http://www.cellml.org/metadata/1.0#"
      xmlns:bqs="http://www.cellml.org/bqs/1.0#"
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:dcterms="http://purl.org/dc/terms/"
      xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#">
    <rdf:Description rdf:about="">
      <dc:creator rdf:parseType="Resource">
        <vCard:N rdf:parseType="Resource">
          <vCard:Family>Nickerson</vCard:Family>
          <vCard:Given>David</vCard:Given>
        </vCard:N>
        <vCard:EMAIL rdf:parseType="Resource">
          <rdf:value>d.nickerson@auckland.ac.nz</rdf:value>
          <rdf:type rdf:resource="http://imc.org/vCard/3.0#internet"/>
        </vCard:EMAIL>
        <vCard:ORG rdf:parseType="Resource">
          <vCard:Orgname>The University of Auckland</vCard:Orgname>
          <vCard:Orgunit>Bioengineering Institute</vCard:Orgunit>
        </vCard:ORG>
      </dc:creator>
      <dcterms:created rdf:parseType="Resource">
        <dcterms:W3CDTF>2004-12-30</dcterms:W3CDTF>
      </dcterms:created>
      <dc:publisher>
        Bioengineering Institute, The University of Auckland
      </dc:publisher>
    </rdf:Description>
    <rdf:Description rdf:about="#ten_tusscher_model_2004_IKr">
      <dc:title>
        The rapid delayed rectifier current from the ten Tusscher et al. 
        2004 human ventricular AP model.
      </dc:title>
      <cmeta:comment rdf:parseType="Resource">
        <rdf:value>
          This is the CellML description of the rapid delayed rectifier current 
          from the ten Tusscher et al. 2004 mathematical model of human 
          ventricular cellular action potential.
        </rdf:value>
        <dc:creator rdf:parseType="Resource">
          <vCard:FN>David Nickerson</vCard:FN>
        </dc:creator>
      </cmeta:comment>
      <cmeta:species>Homo sapiens</cmeta:species>
      <cmeta:bio_entity>Ventricular Myocyte</cmeta:bio_entity>
      <bqs:reference rdf:parseType="Resource">
        <dc:subject rdf:parseType="Resource">
          <bqs:subject_type>keyword</bqs:subject_type>
          <rdf:value>
            <rdf:Bag>
              <rdf:li>Ventricular Myocyte</rdf:li>
              <rdf:li>cardiac</rdf:li>
              <rdf:li>electrophysiology</rdf:li>
              <rdf:li>rapid delayed rectifier current</rdf:li>
            </rdf:Bag>
          </rdf:value>
        </dc:subject>
      </bqs:reference>
      <bqs:reference rdf:parseType="Resource">
        <bqs:Pubmed_id>14656705</bqs:Pubmed_id>
        <bqs:JournalArticle rdf:parseType="Resource">
          <dc:creator>
            <rdf:Seq>
              <rdf:li rdf:parseType="Resource">
                <bqs:Person rdf:parseType="Resource">
                  <vCard:N rdf:parseType="Resource">
                    <vCard:Family>ten Tusscher</vCard:Family>
                    <vCard:Given>K</vCard:Given>
                    <vCard:Other>H</vCard:Other>
                    <vCard:Other>W</vCard:Other>
                    <vCard:Other>J</vCard:Other>
                  </vCard:N>
                </bqs:Person>
              </rdf:li>
              <rdf:li rdf:parseType="Resource">
                <bqs:Person rdf:parseType="Resource">
                  <vCard:N rdf:parseType="Resource">
                    <vCard:Family>Noble</vCard:Family>
                    <vCard:Given>D</vCard:Given>
                  </vCard:N>
                </bqs:Person>
              </rdf:li>
              <rdf:li rdf:parseType="Resource">
                <bqs:Person rdf:parseType="Resource">
                  <vCard:N rdf:parseType="Resource">
                    <vCard:Family>Noble</vCard:Family>
                    <vCard:Given>P</vCard:Given>
                    <vCard:Other>J</vCard:Other>
                  </vCard:N>
                </bqs:Person>
              </rdf:li>
              <rdf:li rdf:parseType="Resource">
                <bqs:Person rdf:parseType="Resource">
                  <vCard:N rdf:parseType="Resource">
                    <vCard:Family>Panfilov</vCard:Family>
                    <vCard:Given>A</vCard:Given>
                    <vCard:Other>V</vCard:Other>
                  </vCard:N>
                </bqs:Person>
              </rdf:li>
            </rdf:Seq>
          </dc:creator>
          <dc:title>
            A model for human ventricular tissue
          </dc:title>
          <dcterms:issued rdf:parseType="Resource">
            <dcterms:W3CDTF>2004-04</dcterms:W3CDTF>
          </dcterms:issued>
          <bqs:Journal rdf:parseType="Resource">
            <dc:title>American Journal of Physiology</dc:title>
          </bqs:Journal>
          <bqs:volume>286</bqs:volume>
          <bqs:first_page>H1573</bqs:first_page>
          <bqs:last_page>H1589</bqs:last_page>
        </bqs:JournalArticle>
      </bqs:reference>
    </rdf:Description>
  </rdf:RDF>
  
  <import xlink:href="../../common/units.xml">
    <units name="ms" units_ref="ms"/>
    <units name="mscu" units_ref="mscu"/>
    <units name="per_ms" units_ref="per_ms"/>
    <units name="mV" units_ref="mV"/>
    <units name="per_mV" units_ref="per_mV"/>
    <units name="nS_per_pF" units_ref="nS_per_pF"/>
    <units name="pA_per_pF" units_ref="pA_per_pF"/>
    <units name="mM" units_ref="mM"/>
  </import>
  
  <component name="IKr" cmeta:id="IKr">
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:cmeta="http://www.cellml.org/metadata/1.0#">
      <rdf:Description rdf:about="#IKr">
        <cmeta:comment rdf:parseType="Resource">
          <rdf:value>
            Here we calculate the rapid delayed rectifier current. We expect 
            the time, membrane potential, reversal potential and conductance 
            to be set externally, and we provide access to the gating 
            variables and the calculated current. This component encapsulates
            all others in this model.
          </rdf:value>
        </cmeta:comment>
      </rdf:Description>
    </rdf:RDF>
    
    <variable name="IKr" public_interface="out" units="pA_per_pF"/>         

    <variable name="g_Kr" public_interface="in" units="nS_per_pF"/>
    <variable name="time" public_interface="in" private_interface="out" units="ms"/>
    <variable name="V" public_interface="in" private_interface="out" units="mV"/>  
    <variable name="E_K" public_interface="in" units="mV"/>
    <variable name="Ko" public_interface="in" units="mM"/>           
    
    <variable name="Xr1" public_interface="out" private_interface="in" units="dimensionless"/>
    <variable name="Xr2" public_interface="out" private_interface="in" units="dimensionless"/>
    <variable name="Xr1_initial" public_interface="in" private_interface="out" units="dimensionless"/>
    <variable name="Xr2_initial" public_interface="in" private_interface="out" units="dimensionless"/>
      
    <math xmlns="http://www.w3.org/1998/Math/MathML">
      <apply id="i_Kr_calculation"><eq/>
        <ci>IKr</ci>
        <apply><times/>
          <ci>g_Kr</ci>
          <apply><root/>
            <apply><divide/>
              <ci>Ko</ci>
              <cn cellml:units="mM">5.4</cn>
            </apply>
          </apply>
          <ci>Xr1</ci>
          <ci>Xr2</ci>
          <apply><minus/>
            <ci>V</ci>
            <ci>E_K</ci>
          </apply>
        </apply>
      </apply> 
    </math>
  </component>
  
  <component name="Xr1_gate" cmeta:id="Xr1_gate">
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:cmeta="http://www.cellml.org/metadata/1.0#">
      <rdf:Description rdf:about="#Xr1_gate">
        <cmeta:comment rdf:parseType="Resource">
          <rdf:value>
            The activation gating kinetics.
          </rdf:value>
        </cmeta:comment>
      </rdf:Description>
    </rdf:RDF>

    <variable name="Xr1" initial_value="Xr1_initial" public_interface="out" units="dimensionless"/>
    <variable name="Xr1_initial" public_interface="in" units="dimensionless"/>
   
    <variable name="alpha_Xr1" units="per_ms"/>
    <variable name="beta_Xr1" units="per_ms"/>
    <variable name="Xr1_infinity" units="dimensionless"/>
    <variable name="tau_Xr1" units="ms"/>
    
    <variable name="V" public_interface="in" units="mV"/>
    <variable name="time" public_interface="in" units="ms"/>
   
    <math xmlns="http://www.w3.org/1998/Math/MathML">
      <apply id="Xr1_diff_eq"><eq/>
        <apply><diff/>
          <bvar><ci>time</ci></bvar>
          <ci>Xr1</ci>
        </apply>
        <apply><divide/>
          <apply><minus/>
            <ci>Xr1_infinity</ci>
            <ci>Xr1</ci>
          </apply>
          <ci>tau_Xr1</ci>
        </apply>
      </apply>
      
      <apply id="Xr1_infinity_calculation"><eq/>
        <ci>Xr1_infinity</ci>
        <apply><divide/>
          <cn cellml:units="dimensionless">1.0</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><minus/>
                  <cn cellml:units="mV">-26.0</cn>
                  <ci>V</ci>
                </apply>
                <cn cellml:units="mV">7.0</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="alpha_Xr1_calculation"><eq/>
        <ci>alpha_Xr1</ci>
        <apply><divide/>
          <cn cellml:units="per_ms">450</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><minus/>
                  <cn cellml:units="mV">-45.0</cn>
                  <ci>V</ci>
                </apply>
                <cn cellml:units="mV">10.0</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="beta_Xr1_calculation"><eq/>
        <ci>beta_Xr1</ci>
        <apply><divide/>
          <cn cellml:units="per_ms">6.0</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><plus/>
                  <ci>V</ci>
                  <cn cellml:units="mV">30.0</cn>
                </apply>
                <cn cellml:units="mV">11.5</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="tau_Xr1_calculation"><eq/>
        <ci>tau_Xr1</ci>
        <apply><times/>
          <cn cellml:units="mscu">1.0</cn>
          <ci>alpha_Xr1</ci>
          <ci>beta_Xr1</ci>
        </apply>
      </apply>
    </math>
  </component>
    
  <component name="Xr2_gate" cmeta:id="Xr2_gate">
    <rdf:RDF
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:cmeta="http://www.cellml.org/metadata/1.0#">
      <rdf:Description rdf:about="#Xr2_gate">
        <cmeta:comment rdf:parseType="Resource">
          <rdf:value>
            The inactivation gating kinetics.
          </rdf:value>
        </cmeta:comment>
      </rdf:Description>
    </rdf:RDF>

    <variable name="Xr2" initial_value="Xr2_initial" public_interface="out" units="dimensionless"/>
    <variable name="Xr2_initial" public_interface="in" units="dimensionless"/>
   
    <variable name="alpha_Xr2" units="per_ms"/>
    <variable name="beta_Xr2" units="per_ms"/>
    <variable name="Xr2_infinity" units="dimensionless"/>
    <variable name="tau_Xr2" units="ms"/>
    
    <variable name="V" public_interface="in" units="mV"/>
    <variable name="time" public_interface="in" units="ms"/>
   
    <math xmlns="http://www.w3.org/1998/Math/MathML">
      <apply id="Xr2_diff_eq"><eq/>
        <apply><diff/>
          <bvar><ci>time</ci></bvar>
          <ci>Xr2</ci>
        </apply>
        <apply><divide/>
          <apply><minus/>
            <ci>Xr2_infinity</ci>
            <ci>Xr2</ci>
          </apply>
          <ci>tau_Xr2</ci>
        </apply>
      </apply>
      
      <apply id="Xr2_infinity_calculation"><eq/>
        <ci>Xr2_infinity</ci>
        <apply><divide/>
          <cn cellml:units="dimensionless">1.0</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><plus/>
                  <cn cellml:units="mV">88.0</cn>
                  <ci>V</ci>
                </apply>
                <cn cellml:units="mV">24.0</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="alpha_Xr2_calculation"><eq/>
        <ci>alpha_Xr2</ci>
        <apply><divide/>
          <cn cellml:units="per_ms">3.0</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><minus/>
                  <cn cellml:units="mV">-60.0</cn>
                  <ci>V</ci>
                </apply>
                <cn cellml:units="mV">20.0</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="beta_Xr2_calculation"><eq/>
        <ci>beta_Xr2</ci>
        <apply><divide/>
          <cn cellml:units="per_ms">1.12</cn>
          <apply><plus/>
            <cn cellml:units="dimensionless">1.0</cn>
            <apply><exp/>
              <apply><divide/>
                <apply><minus/>
                  <ci>V</ci>
                  <cn cellml:units="mV">60.0</cn>
                </apply>
                <cn cellml:units="mV">20.0</cn>
              </apply>
            </apply>
          </apply>
        </apply>
      </apply>
      
      <apply id="tau_Xr2_calculation"><eq/>
        <ci>tau_Xr2</ci>
        <apply><times/>
          <cn cellml:units="mscu">1.0</cn>
          <ci>alpha_Xr2</ci>
          <ci>beta_Xr2</ci>
        </apply>
      </apply>
    </math>
  </component>

  <group>
    <relationship_ref relationship="encapsulation"/>
    <component_ref component="IKr">
      <component_ref component="Xr1_gate"/>
      <component_ref component="Xr2_gate"/>
    </component_ref>
  </group>

  <connection>
    <map_components component_1="IKr" component_2="Xr1_gate"/>
    <map_variables variable_1="Xr1" variable_2="Xr1"/>
    <map_variables variable_1="Xr1_initial" variable_2="Xr1_initial"/>
    <map_variables variable_1="time" variable_2="time"/>
    <map_variables variable_1="V" variable_2="V"/>
  </connection>
  <connection>
    <map_components component_1="IKr" component_2="Xr2_gate"/>
    <map_variables variable_1="Xr2" variable_2="Xr2"/>
    <map_variables variable_1="Xr2_initial" variable_2="Xr2_initial"/>
    <map_variables variable_1="time" variable_2="time"/>
    <map_variables variable_1="V" variable_2="V"/>
  </connection>

</model>
