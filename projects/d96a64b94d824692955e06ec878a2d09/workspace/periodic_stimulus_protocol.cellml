<?xml version='1.0'?>
<model name="NashPanfilov_periodicStimulus" xmlns="http://www.cellml.org/cellml/1.1#" xmlns:cellml="http://www.cellml.org/cellml/1.1#" xmlns:cmeta="http://www.cellml.org/metadata/1.0#" xmlns:xlink="http://www.w3.org/1999/xlink">
    <import xlink:href="nash_panfilov_2004.cellml">
        <units name="ms" units_ref="ms"/>
        <units name="mV" units_ref="mV"/>
        <units name="uApmmsq" units_ref="uApmmsq"/>
        <units name="kPa" units_ref="kPa"/>
    </import>
    <import xlink:href="nash_panfilov_2004.cellml">
        <component component_ref="interface" name="m"/>
    </import>
    <component cmeta:id="stimulus_protocol" name="stimulus_protocol">
        <variable cmeta:id="IStim" name="IStim" public_interface="out" units="uApmmsq"/>
        <variable name="time" public_interface="in" units="ms"/>
        <variable initial_value="330" name="stimPeriod" units="ms"/>
        <variable initial_value="0.5" name="stimDuration" units="ms"/>
        <variable initial_value="0.5" name="stimCurrent" units="uApmmsq"/>
        <variable name="Vm" public_interface="in" units="mV"/>
        <variable name="Ta" public_interface="in" units="kPa"/>
        <variable name="r" public_interface="in" units="dimensionless"/>
        <variable name="u" public_interface="in" units="dimensionless"/>
        <math xmlns="http://www.w3.org/1998/Math/MathML">
            <apply id="stimulus_calculation">
                <eq/>
                <ci>IStim</ci>
                <piecewise>
                    <piece>
                        <ci>stimCurrent</ci>
                        <apply>
                            <lt/>
                            <apply>
                                <rem/>
                                <ci>time</ci>
                                <ci>stimPeriod</ci>
                            </apply>
                            <ci>stimDuration</ci>
                        </apply>
                    </piece>
                    <otherwise>
                        <cn cellml:units="uApmmsq">0.0</cn>
                    </otherwise>
                </piecewise>
            </apply>
        </math>
    </component>
    <connection>
        <map_components component_1="m" component_2="stimulus_protocol"/>
        <map_variables variable_1="Vm" variable_2="Vm"/>
        <map_variables variable_1="t" variable_2="time"/>
        <map_variables variable_1="Ta" variable_2="Ta"/>
        <map_variables variable_1="Istim" variable_2="IStim"/>
        <map_variables variable_1="r" variable_2="r"/>
        <map_variables variable_1="u" variable_2="u"/>
    </connection>
</model>
