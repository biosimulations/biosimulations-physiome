<?xml version="1.0" encoding="iso-8859-1"?>
<model
    name="calcium"
    cmeta:id="calcium"
    xmlns="http://www.cellml.org/cellml/1.1#"
    xmlns:cellml="http://www.cellml.org/cellml/1.1#"
    xmlns:cmeta="http://www.cellml.org/metadata/1.0#"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
	>
    

<!--
*******************************************************
***         U   N   I   T   S                       ***
*******************************************************
-->
   <units name="s">
      <unit units="second"/>
   </units>
   
   <units  name="nM">
         <unit units="mole" prefix="nano"/>
         <unit units="liter" exponent="-1"/>
      </units>
      <units  name="per_s">
         <unit units="s" exponent="-1"/>
      </units>
      <units  name="nM_per_s">
         <unit units="nM"/>
         <unit units="s" exponent="-1"/>
      </units>
<!--
*********************************************************
***       C   O   M   P   O   N   E   N   T   S       ***
*********************************************************
-->
 <component name="calcium">
             <variable cmeta:id="v0" name="t"   units="s" public_interface="in"/>
	     <variable cmeta:id="v1" name="Ca" units="nM" public_interface="out"/>
             <variable cmeta:id="v2" name="stimEnd" units="s" initial_value="3600"/>
             <variable cmeta:id="v3" name="trainPeriod" units="s" initial_value="50"/>
             <variable cmeta:id="v4" name="timeInStim_modTrainPeriod" units="s"/>
             <variable cmeta:id="v5" name="timeInStim_modPulsePeriod" units="s"/>
                          
             <math xmlns="http://www.w3.org/1998/Math/MathML">
             <apply>
                         <eq/>
                         <ci>timeInStim_modTrainPeriod</ci>
                         <apply>
                            <minus/>
                            <ci>t</ci>
                            <apply>
                               <times/>
                               <apply>
                                  <floor/>
                                  <apply>
                                     <divide/>
                                     <ci>t</ci>
                                     <ci>trainPeriod</ci>
                                  </apply>
                               </apply>
                               <ci>trainPeriod</ci>
                            </apply>
                         </apply>
                      </apply>
                      <apply>
                         <eq/>
                         <ci>timeInStim_modPulsePeriod</ci>
                         <apply>
                            <minus/>
                            <ci>t</ci>
                            <apply>
                               <times/>
                               <apply>
                                  <floor/>
                                  <apply>
                                     <divide/>
                                     <ci>t</ci>
                                     <cn cellml:units="s">0.1</cn>
                                  </apply>
                               </apply>
                               <cn cellml:units="s">0.1</cn>
                            </apply>
                         </apply>
         </apply>
          <apply>
                     <eq/>
                     <ci>Ca</ci>
                     <piecewise>
                        <piece>
                           <apply>
                              <plus/>
                              <apply>
                                 <times/>
                                 <cn cellml:units="dimensionless">1000</cn>
                                 <apply>
                                    <minus/>
                                    <ci>timeInStim_modTrainPeriod</ci>
                                    <cn cellml:units="s">5</cn>
                                 </apply>
                                 <apply>
                                    <minus/>
                                    <cn cellml:units="nM_per_s">9.884615385</cn>
                                 </apply>
                              </apply>
                              <cn cellml:units="nM">290.6923077</cn>
                           </apply>
                           <apply>
                              <and/>
                              <apply>
                                 <geq/>
                                 <ci>timeInStim_modTrainPeriod</ci>
                                 <cn cellml:units="s">5</cn>
                              </apply>
                              <apply>
                                 <leq/>
                                 <ci>timeInStim_modTrainPeriod</ci>
                                 <cn cellml:units="s">5.02</cn>
                              </apply>
                              <apply>
                                 <lt/>
                                 <ci>t</ci>
                                 <ci>stimEnd</ci>
                              </apply>
                           </apply>
                        </piece>
                        <piece>
                           <apply>
                              <plus/>
                              <apply>
                                 <times/>
                                 <cn cellml:units="dimensionless">1000</cn>
                                 <ci>timeInStim_modPulsePeriod</ci>
                                 <cn cellml:units="nM_per_s">51.89423077</cn>
                              </apply>
                              <cn cellml:units="nM">290.6923077</cn>
                           </apply>
                           <apply>
                              <and/>
                              <apply>
                                 <lt/>
                                 <ci>timeInStim_modTrainPeriod</ci>
                                 <cn cellml:units="s">5</cn>
                              </apply>
                              <apply>
                                 <leq/>
                                 <ci>timeInStim_modPulsePeriod</ci>
                                 <cn cellml:units="s">0.016</cn>
                              </apply>
                              <apply>
                                 <lt/>
                                 <ci>t</ci>
                                 <ci>stimEnd</ci>
                              </apply>
                           </apply>
                        </piece>
                        <piece>
                           <apply>
                              <plus/>
                              <apply>
                                 <times/>
                                 <cn cellml:units="dimensionless">1000</cn>
                                 <apply>
                                    <minus/>
                                    <ci>timeInStim_modPulsePeriod</ci>
                                    <cn cellml:units="s">0.016</cn>
                                 </apply>
                                 <apply>
                                    <minus/>
                                    <cn cellml:units="nM_per_s">9.884615385</cn>
                                 </apply>
                              </apply>
                              <cn cellml:units="nM">1121</cn>
                           </apply>
                           <apply>
                              <and/>
                              <apply>
                                 <lt/>
                                 <ci>timeInStim_modTrainPeriod</ci>
                                 <cn cellml:units="s">5</cn>
                              </apply>
                              <apply>
                                 <gt/>
                                 <ci>timeInStim_modPulsePeriod</ci>
                                 <cn cellml:units="s">0.016</cn>
                              </apply>
                              <apply>
                                 <lt/>
                                 <ci>t</ci>
                                 <ci>stimEnd</ci>
                              </apply>
                           </apply>
                        </piece>
                        <otherwise>
                           <cn cellml:units="nM">93</cn>
                        </otherwise>
                     </piecewise>
         </apply>
             
             </math>
   </component>

<rdf:RDF 
  xmlns:dc="http://purl.org/dc/elements/1.1/" 
  xmlns:vCard="http://www.w3.org/2001/vcard-rdf/3.0#" 
  xmlns:bqs="http://www.cellml.org/bqs/1.0#" 
  xmlns:ro="http://www.obofoundry.org/ro/ro.owl#" 
  xmlns:opb="http://bhi.washington.edu/OPB#" 
  xmlns:j.0="http://imc.org/vCard/3.0#"
  xmlns:semsim="http://www.bhi.washington.edu/SemSim#"
  xmlns:bqbiol="http://biomodels.net/biology-qualifiers/"
  xmlns:bqmodel="http://biomodels.net/model-qualifiers/"
  >
	
    <rdf:Description rdf:about="#calcium">
        <dc:creator rdf:parseType="Resource">
            <vCard:N rdf:parseType="Resource">
                <vCard:Family>Cooling</vCard:Family>
                <vCard:Given>Michael</vCard:Given>
            </vCard:N>
            <vCard:EMAIL rdf:parseType="Resource">
                <rdf:value>m.cooling@auckland.ac.nz</rdf:value>
                <rdf:type rdf:resource="http://imc.org/vCard/3.0#internet" />
            </vCard:EMAIL>
        </dc:creator>

        <dc:title>Cooling's calcium module for the Shen-derived protocol</dc:title>
    </rdf:Description>
	
	<rdf:Description rdf:ID="v0">
          <semsim:refersTo rdf:resource="http://identifiers.org/opb/OPB_01361" />
    </rdf:Description>
	
	<rdf:Description rdf:ID="v1">
      <semsim:isComputationalComponentFor>
        <rdf:Description rdf:about="#property_1">
          <semsim:physicalPropertyOf>
            <rdf:Description rdf:about="#entity_0">
              <ro:contained_in>
                <rdf:Description rdf:about="#entity_1">
                  <semsim:refersTo rdf:resource="http://identifiers.org/fma/FMA:14067" />
                </rdf:Description>
              </ro:contained_in>
              <semsim:refersTo rdf:resource="http://identifiers.org/chebi/CHEBI:39123" />
            </rdf:Description>
          </semsim:physicalPropertyOf>
          <semsim:refersTo rdf:resource="http://identifiers.org/opb/OPB_00340" />
        </rdf:Description>
      </semsim:isComputationalComponentFor>
    </rdf:Description>
	
</rdf:RDF> 
   
</model>